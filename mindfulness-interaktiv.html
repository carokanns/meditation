<!doctype html>
<html lang="sv">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Mindfulness – Så gör du</title>

  <!-- Stjärn-bakgrund (återanvänd din befintliga bakgrund) -->
  <link rel="stylesheet" href="stars.css" />

  <!-- Minimal egen styling för själva sliden (påverkar inte din bakgrund) -->
  <style>
    :root {
      --card-bg: rgba(5, 10, 25, 0.72);
      --card-brd: rgba(255, 255, 255, 0.12);
      --accent: #a6d0ff;
      --muted: #cfd8ff;
    }
    html, body {
      height: 100%;
      margin: 0;
      font-family: system-ui, -apple-system, Segoe UI, Roboto, "Helvetica Neue", Arial, "Noto Sans", "Liberation Sans", sans-serif;
      color: #f5f7ff;
      background: transparent; /* låt stjärnhimlen synas */
    }
    /* Minimikrav för stjärnhimmel-lager */
    .stars { position: fixed; inset: 0; z-index: 0; pointer-events: none; }
    .wrap  { position: relative; z-index: 1; }

    .stage {
      min-height: 100dvh;
      display: grid;
      place-items: center;
      padding: 6vmin 3vmin;
    }
    .slide {
      width: min(1040px, 94vw);
      backdrop-filter: saturate(140%) blur(6px);
      background: var(--card-bg);
      border: 1px solid var(--card-brd);
      border-radius: 20px;
      box-shadow: 0 20px 60px rgba(0,0,0,0.45);
      padding: clamp(18px, 3.6vmin, 36px);
    }
    h1 {
      margin: 0 0 6px 0;
      font-size: clamp(28px, 5.2vmin, 44px);
      line-height: 1.1;
      letter-spacing: 0.3px;
    }
    .sub {
      margin: 0 0 22px 0;
      color: var(--muted);
      font-size: clamp(14px, 2.5vmin, 18px);
    }
    .grid {
      display: grid;
      gap: clamp(14px, 2.4vmin, 22px);
      grid-template-columns: repeat(auto-fit, minmax(260px, 1fr));
    }
    .card {
      border: 1px solid var(--card-brd);
      border-radius: 16px;
      padding: clamp(12px, 2.2vmin, 18px);
      background: rgba(10, 16, 36, 0.55);
    }
    /* Klickbar rubrik */
    .hdr {
      width: 100%;
      display: block;
      text-align: left;
      border: 1px solid var(--card-brd);
      background: rgba(255,255,255,0.04);
      color: var(--accent);
      padding: 12px 44px 12px 12px;
      border-radius: 12px;
      font-size: clamp(18px, 3.2vmin, 24px);
      line-height: 1.25;
      cursor: pointer;
      position: relative;
    }
    .hdr:hover { filter: brightness(1.08); }
    .hdr:focus { outline: 2px solid var(--accent); outline-offset: 2px; }
    .hdr::after{
      content: "▸";
      position: absolute;
      right: 12px;
      top: 50%;
      transform: translateY(-50%) rotate(0deg);
      transition: transform .25s ease;
      font-size: 1.1em;
      opacity: 0.9;
    }
    .card.open .hdr::after{ transform: translateY(-50%) rotate(90deg); }

    /* Panelen som expanderar */
    .content{
      height: 0;
      overflow: hidden;
      opacity: 0;
      transition: height .35s ease, opacity .35s ease;
      will-change: height, opacity;
      margin-top: 8px;
    }
    .card.open .content{ opacity: 1; }

    ul { margin: 0; padding: 8px 0 0 1.1em; }
    li { margin: 6px 0; line-height: 1.35; }

    .foot { margin-top: clamp(14px, 2.4vmin, 22px); font-size: 0.9em; color: var(--muted); opacity: 0.9; }
    .badge { display: inline-block; border: 1px solid var(--card-brd); padding: 4px 10px; border-radius: 999px; font-size: 0.9em; margin-bottom: 10px; background: rgba(255,255,255,0.04); }

    /* Pager */
    .pager{display:flex; justify-content:space-between; gap:1rem; margin:2rem 0 1rem}
    .pager a{width:96px; height:96px; padding:0; border:none; border-radius:999px; text-decoration:none; color:#eaf2ff; background:transparent; display:grid; place-items:center}
    .pager a svg{width:60px; height:60px}
    .pager a .ring{opacity:.28; stroke-width:1}
    .pager a .arrow{stroke-width:1.6}
    .pager a:hover .ring{opacity:.5}
    .pager a:hover .arrow{stroke-width:2.8; stroke: var(--accent, #a6d0ff)}
    .pager a:focus-visible{outline:2px solid var(--accent); outline-offset:4px; border-radius:50%}

    @media (prefers-reduced-motion: reduce) {
      .content{ transition: none; }
      .hdr::after{ transition: none; }
    }
  </style>
</head>
<body>
  <!-- LAGER: stjärnhimmel och innehåll -->
  <div class="stars" aria-hidden="true"></div>
  <div class="wrap">
    <div class="stage">
      <section class="slide" role="document" aria-label="Mindfulness – guide">
        <div class="badge">Mindfulness – på 1 sida</div>
        <h1>Mindfulness: så gör du</h1>
        <p class="sub">Klicka på en rubrik för att visa detaljer. Allt handlar om att befinna sig “Här och Nu”.</p>

        <div class="grid" id="acc-grid">
          <article class="card" data-idx="1">
            <button class="hdr" id="btn1" aria-expanded="false" aria-controls="sec1">1) Start & hållning</button>
            <div class="content" id="sec1" role="region" aria-labelledby="btn1" aria-hidden="true">
              <ul>
                <li>Sitt bekvämt med <strong>rak men avslappnad rygg</strong> – stol eller kudde går fint.</li>
                <li>Låt händerna vila och <strong>mjukna i käkar/axlar</strong>. Ögonen stängda eller halvöppna.</li>
                <li>Ta först tre djupa långsamma andetag (vår första övning)</li>
              </ul>
            </div>
          </article>

          <article class="card" data-idx="2">
            <button class="hdr" id="btn2" aria-expanded="false" aria-controls="sec2">2) Andningsankaret</button>
            <div class="content" id="sec2" role="region" aria-labelledby="btn2" aria-hidden="true">
              <ul>
                <li>Följ <strong>in- och utandning</strong> där den känns tydligast (näsa, bröstkorg, mage).</li>
                <li>Räkna lätt (t.ex. 1–10) om det hjälper att hålla fokus.</li>
                <li><em>Styr inte andningen</em> – observera den som den är.</li>
              </ul>
            </div>
          </article>

          <article class="card" data-idx="3">
            <button class="hdr" id="btn3" aria-expanded="false" aria-controls="sec3">3) När sinnet vandrar</button>
            <div class="content" id="sec3" role="region" aria-labelledby="btn3" aria-hidden="true">
              <ul>
                <li>När tankar/känslor dyker upp: <strong>notera</strong> (“tanke”, “känsla”, “ljud”).</li>
                <li><strong>Släpp</strong> och för <strong>vänligt</strong> tillbaka till andningen.</li>
                <li>Upprepa. Detta <em>är</em> träningen (ingen perfektion krävs).</li>
              </ul>
            </div>
          </article>

          <article class="card" data-idx="4">
            <button class="hdr" id="btn4" aria-expanded="false" aria-controls="sec4">4) Varianter</button>
            <div class="content" id="sec4" role="region" aria-labelledby="btn4" aria-hidden="true">
              <ul>
                <li><strong>Kroppsscanning:</strong> svep uppmärksamheten långsamt från tår till huvud.</li>
                <li><strong>Gående meditation:</strong> känn varje steg (lyft–för–sätt ned).</li>
                <li><strong>Vardags‑mindfulness:</strong> ät, diska eller promenera med full närvaro.</li>
              </ul>
            </div>
          </article>

          <article class="card" data-idx="5">
            <button class="hdr" id="btn5" aria-expanded="false" aria-controls="sec5">5) Attityd & rutin</button>
            <div class="content" id="sec5" role="region" aria-labelledby="btn5" aria-hidden="true">
              <ul>
                <li>Sätt av <strong>2–10 min</strong> i början (öka vid behov).</li>
                <li><strong>Vänlighet mot dig själv.</strong> Prestera inte!</li>
                <li>Lite och ofta slår sällan och länge – <strong>daglig vana</strong> ger effekt.</li>
              </ul>
            </div>
          </article>
        </div>

        <p class="foot">Tips: Korta pass är helt okej – regelbundenhet är nyckeln.</p>

        <!-- Pager (föregående/nästa) -->
        <nav class="pager">
          <a id="prevBtn" class="prev" href="#" aria-label="Föregående" title="Föregående">
            <svg viewBox="0 0 24 24" aria-hidden="true">
              <circle class="ring" cx="12" cy="12" r="9" fill="none" stroke="currentColor"/>
              <path class="arrow" d="M12 9 L8 12 L12 15" fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round"/>
              <line class="arrow" x1="8" y1="12" x2="18" y2="12" stroke="currentColor" stroke-linecap="round"/>
            </svg>
          </a>
          <a id="nextBtn" class="next" href="#" aria-label="Nästa" title="Nästa">
            <svg viewBox="0 0 24 24" aria-hidden="true">
              <circle class="ring" cx="12" cy="12" r="9" fill="none" stroke="currentColor"/>
              <path class="arrow" d="M12 9 L18 12 L12 15" fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round"/>
              <line class="arrow" x1="6" y1="12" x2="18" y2="12" stroke="currentColor" stroke-linecap="round"/>
            </svg>
          </a>
        </nav>
      </section>
    </div>
  </div><!-- /.wrap -->

  <!-- Stjärnhimmel -->
  <script src="stars.js" defer></script>

  <!-- Interaktivitet för rubrikerna + aria-hidden -->
  <script>
    (function(){
      const cards = Array.from(document.querySelectorAll('.card'));

      function setPanelHeight(panel, open){
        if(open){
          panel.style.height = panel.scrollHeight + 'px';
        } else {
          panel.style.height = '0px';
        }
      }

      function toggle(card){
        const btn = card.querySelector('.hdr');
        const panel = card.querySelector('.content');
        const isOpen = card.classList.contains('open');
        const willOpen = !isOpen;
        card.classList.toggle('open', willOpen);
        btn.setAttribute('aria-expanded', String(willOpen));
        panel.setAttribute('aria-hidden', String(!willOpen));

        if(willOpen){
          // Först sätt aktuell höjd till 0, sedan till scrollHeight för smidig animation
          panel.style.height = '0px';
          requestAnimationFrame(()=>{
            setPanelHeight(panel, true);
          });
        } else {
          // Sätt höjd till nuvarande scrollHeight för att sedan animera till 0
          panel.style.height = panel.scrollHeight + 'px';
          requestAnimationFrame(()=>{
            setPanelHeight(panel, false);
          });
        }
      }

      // Init – se bara rubriker och markera paneler som dolda för skärmläsare
      cards.forEach((card)=>{
        const btn = card.querySelector('.hdr');
        const panel = card.querySelector('.content');
        btn.addEventListener('click', ()=> toggle(card));
        // säkerställ startläge
        card.classList.remove('open');
        btn.setAttribute('aria-expanded','false');
        panel.setAttribute('aria-hidden','true');
        panel.style.height = '0px';
      });

      // Håll rätt höjd om fönstret ändras när paneler är öppna
      window.addEventListener('resize', ()=>{
        cards.forEach((card)=>{
          if(card.classList.contains('open')){
            const panel = card.querySelector('.content');
            panel.style.height = panel.scrollHeight + 'px';
          }
        });
      });
    })();
  </script>

  <!-- SLIDES-lista + logik (samma block på alla sidor) -->
  <script>
    const SLIDES = [
      "index.html",
      "tm-mindfulness-nsdr.html",
      "mindfulness-interaktiv.html",
      "lankar.html"
    ];

    const me  = location.pathname.split("/").pop() || "index.html";
    const i   = Math.max(0, SLIDES.indexOf(me));
    const prev = SLIDES[(i - 1 + SLIDES.length) % SLIDES.length];
    const next = SLIDES[(i + 1) % SLIDES.length];

    const prevEl = document.getElementById("prevBtn");
    const nextEl = document.getElementById("nextBtn");
    if (prevEl) prevEl.href = prev;
    if (nextEl) nextEl.href = next;

    // Piltangenter ← →
    addEventListener("keydown", (e) => {
      if (e.key === "ArrowLeft")  location.href = prev;
      if (e.key === "ArrowRight") location.href = next;
    });
  </script>
</body>
</html>
